2025-10-02 11:01:19.742672: BIP2488E:  (.SetMQRFH2_IPrint_Platform.Main, 27.3) Error detected whilst executing the SQL statement 'SET OutputRoot.IPRNT_InitEDX_HDR.DFDL.EDX_HDR.EDX_Header_Type = ref1.EDX_Header_Type;'. 
2025-10-02 11:01:19.742714: BIP2498E: (.SetMQRFH2_IPrint_Platform.Main, 27.7) : An error occurred when navigating to path element '2' of the field reference at the given location. 
2025-10-02 11:01:19.742776: BIP2291E: No constant for parser class name for root element name 'IPRNT_InitEDX_HDR'. 


CREATE COMPUTE MODULE SetMQRFH2_IPrint_Platform
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		
		CALL CopyMessageHeaders();
		--CALL CopyEntireMessage();
		
		-- Create properties
		SET OutputRoot.Properties.Encoding = 273;
		SET OutputRoot.Properties.CodedCharSetId = 819;
		
	
		SET OutputRoot.Properties.MessageDomain = 'DFDL';
		
--		SET OutputRoot.Properties.MessageSet = 'G100CIC002001';
--		SET OutputRoot.Properties.MessageDomain = 'MRM';
--		SET OutputRoot.Properties.MessageType = 'IPRINT_REQ_MSG';
-- 		SET OutputRoot.Properties.MessageFormat = 'Text1';
		
		-- Create MQMD header
		SET OutputRoot.MQMD.Format ='MQSTR';
 		SET OutputRoot.MQMD.CodedCharSetId=819;
		SET OutputRoot.MQMD.Encoding=273;	
		
		-- Copy Message Priority
		SET OutputRoot.MQMD.Priority = InputRoot.MQMD.Priority;	
		
			-- SET Output EDX Header
		DECLARE ref1 REFERENCE TO InputRoot.DFDL.IPRNT_InitEDX_HDR;

		SET OutputRoot.IPRNT_InitEDX_HDR.DFDL.EDX_HDR.EDX_Header_Type 				= ref1.EDX_Header_Type;
		SET OutputRoot.IPRNT_InitEDX_HDR.DFDL.EDX_HDR.EDX_Header_Ver 					= ref1.EDX_Header_Ver;


 

	<xsd:element dfdl:lengthKind="delimited"
		ibmSchExtn:docRoot="true" name="IPRNT_initREQ_MSG">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element dfdl:length="158"  name="IPRNT_InitEDX_HDR"
					type="EDX_HDR_Type" />
				<xsd:element dfdl:length="1102"  name="IPRNT_Init_ISIS_HDR"
					type="ISIS_Header_Type" />
				<xsd:element dfdl:lengthKind="delimited"
					ibmDfdlExtn:sampleValue="body_valu3" name="ISIS_PDF_PRNT_DTL"
					type="xsd:string" />
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
