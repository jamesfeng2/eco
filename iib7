<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
            xmlns:dfdl="http://www.ogf.org/dfdl/dfdl-1.0/"
            xmlns="http://your.namespace.com/IPRINT_REQUEST"
            targetNamespace="http://your.namespace.com/IPRINT_REQUEST"
            elementFormDefault="qualified">

    <!-- dfdl:defineFormat should be a direct child of xsd:schema -->
    <dfdl:defineFormat name="CWF_Format">
        <dfdl:format encoding="IBM500" lengthUnits="bytes"
                     alignment="1" alignmentUnits="bytes" floating="no"
                     textPadChar=" " textStringJustification="left"
                     nilKind="literalCharacter" nilValue=""
                     textNumberRep="standard" textNumberPadChar="0" textNumberJustification="right"
                     textBooleanTrueRep="T" textBooleanFalseRep="F"
                     textCalendarPattern="yyyyMMdd" textCalendarPatternKind="implicit"/>
    </dfdl:defineFormat>

    <!-- EDX_HDR_Type -->
    <xsd:complexType name="EDX_HDR_Type" dfdl:ref="CWF_Format">
        <xsd:sequence>
            <xsd:element name="EDX_Header_Type" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="1"/>
            <xsd:element name="EDX_Header_Ver" type="xsd:short" dfdl:lengthKind="fixed" dfdl:length="1"
                         dfdl:textNumberRep="standard" dfdl:textNumberPattern="#0" dfdl:textNumberPadChar="0" dfdl:textNumberJustification="right"/>
            <xsd:element name="EDX_TRN_Type_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="10"/>
            <xsd:element name="EDX_TRN_Action_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="1"/>
            <xsd:element name="EDX_TRN_Ver_Num" type="xsd:short" dfdl:lengthKind="fixed" dfdl:length="2"
                         dfdl:textNumberRep="standard" dfdl:textNumberPattern="##" dfdl:textNumberPadChar="0" dfdl:textNumberJustification="right"/>
            <xsd:element name="EDX_Recv_Agency_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="3"/>
            <xsd:element name="EDX_Recv_Agency_App_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="6"/>
            <xsd:element name="EDX_Recv_Agency_Obj_Ref_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="20"/>
            <xsd:element name="EDX_Sendng_Agency_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="3"/>
            <xsd:element name="EDX_Sendng_Agency_App_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="6"/>
            <xsd:element name="EDX_Sendng_Agency_Obj_Ref_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="20"/>
            <xsd:element name="EDX_Sendng_User_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="8"/>
            <xsd:element name="EDX_Sendng_User_Office_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="4"/>
            <xsd:element name="EDX_Sent_Date" type="xsd:date" dfdl:lengthKind="fixed" dfdl:length="8"
                         dfdl:textCalendarPattern="yyyyMMdd"/>
            <xsd:element name="EDX_Sent_Time_Seq_Num" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="12"/>
            <xsd:element name="EDX_Sendng_Cut_Offset_Mins" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="4"/>
            <xsd:element name="EDX_Sendng_Machine_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="3"/>
            <xsd:element name="EDX_TRN_Ref_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="24"/>
            <xsd:element name="EDX_Err_Rsn_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="6"/>
            <xsd:element name="EDX_Reserved" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="10"/>
            <xsd:element name="EDX_Data_Len" type="xsd:short" dfdl:lengthKind="fixed" dfdl:length="6"
                         dfdl:textNumberRep="standard" dfdl:textNumberPattern="#0" dfdl:textNumberPadChar="0" dfdl:textNumberJustification="right"/>
        </xsd:sequence>
    </xsd:complexType>

    <!-- ISIS_Header_Type -->
    <xsd:complexType name="ISIS_Header_Type" dfdl:ref="CWF_Format">
        <xsd:sequence>
            <xsd:element name="ISIS_TRN_Type_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="6"/>
            <xsd:element name="ISIS_CRN" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="10"/>
            <xsd:element name="ISIS_Host_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="3"/>
            <xsd:element name="ISIS_Status_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="2"/>
            <xsd:element name="ISIS_Recip_Name" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="50"/>
            <xsd:element name="ISIS_Hist_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="10"/>
            <xsd:element name="ISIS_Format_Cde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="3"/>
            <xsd:element name="ISIS_User_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="12"/>
            <xsd:element name="ISIS_Style_File" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="3"/>
            <xsd:element name="ISIS_Debug_Flg" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="1"/>
            <xsd:element name="ISIS_Printer_Id" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="8"/>
            <xsd:element name="ISIS_Printer_IP_Addr" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="15"/>
            <xsd:element name="ISIS_Queue" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="32"/>
            <xsd:element name="ISIS_LTT_Mde" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="5"/>
            <xsd:element name="ISIS_Sel_Code" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="3"/>
            <xsd:element name="ISIS_Text_Code" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="8"/>
            <xsd:element name="ISIS_Ro_Code" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="3"/>
            <xsd:element name="ISIS_Recipient_Name" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="120"/>
            <xsd:element name="ISIS_Recipient_Fax_No" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="10"/>
            <xsd:element name="ISIS_Sender_Name" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="120"/>
            <xsd:element name="ISIS_Sender_Fax_No" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="10"/>
            <xsd:element name="ISIS_Sender_Office" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="50"/>
            <xsd:element name="ISIS_Sender_Phone_No" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="10"/>
            <xsd:element name="ISIS_Fax_Body_Text" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="255"/>
            <xsd:element name="ISIS_Fax_Subject" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="150"/>
            <xsd:element name="ISIS_Conf_Email" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="150"/>
            <xsd:element name="ISIS_Conf_Email_Type" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="2"/>
            <xsd:element name="ISIS_Conf_Ind" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="1"/>
            <xsd:element name="ISIS_Fax_Template" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="50"/>
        </xsd:sequence>
    </xsd:complexType>

    <!-- BRK_RQST_Type -->
    <xsd:complexType name="BRK_RQST_Type" dfdl:ref="CWF_Format">
        <xsd:sequence>
            <xsd:element name="BRK_RQST_Metadata" type="xsd:string" dfdl:lengthKind="fixed" dfdl:length="128"/>
        </xsd:sequence>
    </xsd:complexType>

    <!-- ISIS_PDF_PRNT_Dtl_Type -->
    <xsd:complexType name="ISIS_PDF_PRNT_Dtl_Type" dfdl:ref="CWF_Format">
        <xsd:sequence>
            <xsd:element name="ISIS_Printer_PRNT_Dtl" type="xsd:string" dfdl:lengthKind="implicit"/>
        </xsd:sequence>
    </xsd:complexType>

    <!-- IPRINT_REQ_Type (main complex type) -->
    <xsd:complexType name="IPRINT_REQ_Type" dfdl:ref="CWF_Format">
        <xsd:sequence>
            <xsd:element name="EDX_HDR" type="EDX_HDR_Type"/>
            <xsd:element name="ISIS_Header" type="ISIS_Header_Type"/>
            <xsd:element name="BRK_RQST" type="BRK_RQST_Type"/>
            <xsd:element name="ISIS_PDF_PRNT_Dtl" type="ISIS_PDF_PRNT_Dtl_Type"/>
        </xsd:sequence>
    </xsd:complexType>

    <!-- Top-level element -->
    <xsd:element name="IPRINT_REQ_MSG" type="IPRINT_REQ_Type" dfdl:ref="CWF_Format"/>

</xsd:schema>
