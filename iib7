<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:dfdl="http://www.ogf.org/dfdl/dfdl-1.0/"
           targetNamespace="http://example.com/ini.7"
           xmlns="http://example.com/ini.7"
           elementFormDefault="qualified"
           attributeFormDefault="unqualified">

  <!-- DFDL default properties can be set with a format block on top-level elements if needed.
       Here we specify per-element explicit lengths matching the original MXSD 'width' attributes. -->

  <!-- ---------- EDX_HDR_Type ---------- -->
  <xs:complexType name="EDX_HDR_Type">
    <xs:sequence dfdl:separator="none">
      <xs:element name="EDX_Header_Type" type="xs:string">
        <xs:annotation>
          <xs:appinfo>
            <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="1"
                         dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
          </xs:appinfo>
        </xs:annotation>
      </xs:element>

      <xs:element name="EDX_Header_Ver" type="xs:short">
        <xs:annotation>
          <xs:appinfo>
            <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="1"
                         dfdl:textPadCharacter=" " dfdl:textJustification="right"/>
          </xs:appinfo>
        </xs:annotation>
      </xs:element>

      <xs:element name="EDX_TRN_Type_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="10"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_TRN_Action_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="1"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_TRN_Ver_Num" type="xs:short">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="2"
                       dfdl:textPadCharacter=" " dfdl:textJustification="right"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Recv_Agency_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="3"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Recv_Agency_App_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="6"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Recv_Agency_Obj_Ref_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="20"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sendng_Agency_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="3"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sendng_Agency_App_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="6"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sendng_Agency_Obj_Ref_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="20"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sendng_User_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="8"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sendng_User_Office_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="4"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sent_Date" type="xs:date">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="8"
                       dfdl:textPadCharacter=" " dfdl:calendarPattern="yyyyMMdd"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sent_Time_Seq_Num" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="12"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sendng_Cut_Offset_Mins" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="4"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Sendng_Machine_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="3"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_TRN_Ref_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="24"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Err_Rsn_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="6"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Reserved" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="10"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="EDX_Data_Len" type="xs:short">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="6"
                       dfdl:textPadCharacter="0" dfdl:textJustification="right"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

    </xs:sequence>
  </xs:complexType>

  <!-- ---------- ISIS_Header_Type ---------- -->
  <xs:complexType name="ISIS_Header_Type">
    <xs:sequence dfdl:separator="none">
      <xs:element name="ISIS_TRN_Type_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="6"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_CRN" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="10"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Host_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="3"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Status_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="2"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Recip_Name" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="50"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Hist_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="10"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Format_Cde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="3"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_User_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="12"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Style_File" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="3"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Debug_Flg" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="1"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Printer_Id" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="8"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Printer_IP_Addr" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="15"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Queue" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="32"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_LTT_Mde" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="5"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Sel_Code" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="3"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Text_Code" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="8"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Ro_Code" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="3"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Recipient_Name" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="120"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Recipient_Fax_No" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="10"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Sender_Name" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="120"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Sender_Fax_No" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="10"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Sender_Office" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="50"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Sender_Phone_No" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="10"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Fax_Body_Text" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="255"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Fax_Subject" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="150"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Conf_Email" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="150"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Conf_Email_Type" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="2"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Conf_Ind" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="1"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Fax_Template" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="50"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

    </xs:sequence>
  </xs:complexType>

  <!-- ---------- BRK_RQST_Type ---------- -->
  <xs:complexType name="BRK_RQST_Type">
    <xs:sequence dfdl:separator="none">
      <xs:element name="BRK_RQST_Metadata" type="xs:string">
        <xs:annotation><xs:appinfo>
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="128"
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>

  <!-- ---------- ISIS_PDF_PRNT_Dtl_Type ---------- -->
  <xs:complexType name="ISIS_PDF_PRNT_Dtl_Type">
    <xs:sequence dfdl:separator="none">
      <xs:element name="ISIS_Printer_PRNT_Dtl" type="xs:string">
        <xs:annotation><xs:appinfo>
          <!-- original had lengthUnits="EndOfBitStream" - here we treat as variable length until record end
               Use dfdl:lengthKind="delimited" with terminator or outer record handling as needed. -->
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="delimited" dfdl:initiator="" dfdl:terminator=""
                       dfdl:textPadCharacter=" " dfdl:textJustification="left"/>
        </xs:appinfo></xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>

  <!-- ---------- Root Element ---------- -->
  <xs:complexType name="IPRINT_REQ_Type">
    <xs:sequence dfdl:separator="none">
      <xs:element name="EDX_HDR" type="EDX_HDR_Type">
        <xs:annotation><xs:appinfo>
          <!-- treat the EDX header as fixed-length composite (sum of field lengths) -->
          <dfdl:format dfdl:representation="text" dfdl:lengthKind="explicit" dfdl:length="(you may compute total header length if you want validation)"/>
        </xs:appinfo></xs:annotation>
      </xs:element>

      <xs:element name="ISIS_Header" type="ISIS_Header_Type"/>

      <xs:element name="BRK_RQST" type="BRK_RQST_Type"/>

      <xs:element name="ISIS_PDF_PRNT_Dtl" type="ISIS_PDF_PRNT_Dtl_Type"/>
    </xs:sequence>
  </xs:complexType>

  <xs:element name="IPRINT_REQ_MSG" type="IPRINT_REQ_Type">
    <xs:annotation><xs:appinfo>
      <!-- Top-level format: adjust lengthKind accordingly if message has an overall fixed length or delimited body -->
      <dfdl:format dfdl:representation="text"/>
    </xs:appinfo></xs:annotation>
  </xs:element>

  <!-- You may add additional annotations or hidden helper types for numeric parsing if needed. -->
</xs:schema>
